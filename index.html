function displayRecipe(recipeName, recipe) {
    const recipeDetails = document.getElementById('recipeDetails');
    const recipeTitleEl = document.getElementById('recipeName');
    const ingredientsList = document.getElementById('ingredientsList');
    const stepsList = document.getElementById('stepsList');
    const difficultyEl = document.getElementById('difficulty');
    const healthScoreEl = document.getElementById('healthScore');
    
    // Add image section if it doesn't exist
    let recipeImageContainer = document.getElementById('recipeImageContainer');
    if (!recipeImageContainer) {
        recipeImageContainer = document.createElement('div');
        recipeImageContainer.id = 'recipeImageContainer';
        recipeImageContainer.style.cssText = `
            width: 100%;
            height: 300px;
            margin: 20px 0;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            background: #1a1a1a;
            border: 2px solid gold;
        `;
        
        const img = document.createElement('img');
        img.id = 'recipeImage';
        img.style.cssText = `
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        `;
        img.onmouseover = () => img.style.transform = 'scale(1.05)';
        img.onmouseout = () => img.style.transform = 'scale(1)';
        
        recipeImageContainer.appendChild(img);
        recipeDetails.insertBefore(recipeImageContainer, recipeDetails.firstChild);
    }
    
    // Update image with loading state
    const recipeImage = document.getElementById('recipeImage');
    recipeImage.style.opacity = '0.3';
    recipeImage.src = recipe.image;
    recipeImage.alt = recipeName;
    
    // Handle image loading
    recipeImage.onload = () => {
        recipeImage.style.opacity = '1';
    };
    
    // Handle image error
    recipeImage.onerror = () => {
        recipeImage.src = `https://source.unsplash.com/featured/?food`;
        recipeImage.style.opacity = '1';
    };
    
    recipeTitleEl.textContent = `ðŸ½ï¸ ${recipeName}`;
    difficultyEl.textContent = "â­".repeat(recipe.difficulty) + "â˜†".repeat(5 - recipe.difficulty);
    healthScoreEl.textContent = "ðŸ’š".repeat(recipe.healthScore) + "ðŸ¤".repeat(5 - recipe.healthScore);
    
    // Update ingredients
    ingredientsList.innerHTML = '';
    recipe.ingredients.forEach(ingredient => {
        const li = document.createElement('li');
        li.textContent = `ðŸŒŸ ${ingredient}`;
        ingredientsList.appendChild(li);
    });
    
    // Update steps
    stepsList.innerHTML = '';
    recipe.steps.forEach(step => {
        const li = document.createElement('li');
        li.textContent = step;
        stepsList.appendChild(li);
    });
    
    recipeDetails.style.display = 'block';
}
